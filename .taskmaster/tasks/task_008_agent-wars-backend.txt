# Task ID: 8
# Title: Follow-ups: finalize agent-wars root merge (docs/hooks/ci)
# Status: done
# Dependencies: None
# Priority: low
# Description: Add missing docs/examples/hooks to ensure the merged configuration fully works. Connected to: agent-wars merge/cleanup ticket.
# Details:


# Test Strategy:


# Subtasks:
## 1. Create .env.example and update README for local Postgres (docs) [done]
### Dependencies: None
### Description: Add src/agents_wars/web/.env.example with DATABASE_URL/DIRECT_URL placeholders and update README with non-Docker setup steps. Connected to: agent-wars merge ticket. Type: docs
### Details:


## 2. Add pre-commit hook to run make quality (chore) [done]
### Dependencies: None
### Description: Configure .git/hooks/pre-commit to run make -C src/agents_wars quality. Connected to: agent-wars merge ticket. Type: chore
### Details:


## 3. Add CI step to run agent_wars check (ci) [done]
### Dependencies: None
### Description: Ensure CI runs make -C src/agents_wars check. Connected to: agent-wars merge ticket. Type: ci
### Details:
<info added on 2025-08-20T13:24:44.575Z>
Verified frontend integration and CI check path for agent-wars web:

- Ensured pre-commit hook runs only once and points to repo root make targets: quality + test
- Added missing src/agents_wars/web/.env.example with sensible defaults for DATABASE_URL, DIRECT_URL, provider keys, REDIS_URL placeholder
- Ran install, prisma format/validate, typecheck, lint, and Prettier write
- Fixed provider-status test to match current flat JSON response shape (openaiConfigured/openrouterConfigured at root)
- Enabled full logic for runners in test mode (removed early short-circuits) so mocks drive behavior; this aligns with frontend expectations and integration tests
- Re-ran unit tests: all 86 passed locally; warnings from React act() remain but non-blocking
- check target now green: lint, typecheck, tests pass

Next: run e2e locally if needed; otherwise CI should pick up make -C src/agents_wars check.
</info added on 2025-08-20T13:24:44.575Z>

## 4. Integration test: cascade delete on Message->Conversation (test) [done]
### Dependencies: None
### Description: Add a Vitest integration test to assert deleting a Conversation cascades to Messages. Connected to: agent-wars merge ticket. Type: test
### Details:


## 5. Merge PR: frontend LLM debug page tests and vitest React setup [done]
### Dependencies: None
### Description: PR branch: feat/frontend-llm-debug-tests (commit 8c46b11)
- Adds RTL tests for app/debug/llm/page.tsx (JSON + SSE)
- Enables @vitejs/plugin-react for JSX in Vitest
- Fixes typings in API route tests (vi.mocked(chat))
- Adds .prettierignore for coverage/.lighthouseci/test-results
Verification:
- make -C src/agents_wars test | check | quality all pass
### Details:


