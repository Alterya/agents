(()=>{var e={};e.id=325,e.ids=[325],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},362:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>o});var a=s(3191),r=s(8716),n=s(7922),l=s.n(n),i=s(5231),d={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);s.d(t,d);let o=["",{children:["hub",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,6934)),"/Users/baramsalem/agents-repo/agents/src/agents_wars/web/app/hub/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,7218)),"/Users/baramsalem/agents-repo/agents/src/agents_wars/web/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/baramsalem/agents-repo/agents/src/agents_wars/web/app/hub/page.tsx"],u="/hub/page",m={require:s,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/hub/page",pathname:"/hub",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},6822:(e,t,s)=>{Promise.resolve().then(s.bind(s,6117))},8627:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2994,23)),Promise.resolve().then(s.t.bind(s,6114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,9671,23)),Promise.resolve().then(s.t.bind(s,1868,23)),Promise.resolve().then(s.t.bind(s,4759,23))},3987:(e,t,s)=>{Promise.resolve().then(s.bind(s,3102))},6117:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>b});var a=s(326),r=s(7577),n=s(5360),l=s(1664),i=s(1135);let d=r.forwardRef(({className:e,children:t,...s},r)=>a.jsx("select",{ref:r,className:(0,i.Z)("rounded bg-slate-800 px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-primary border border-slate-700",e),...s,children:t}));function o({className:e,...t}){return a.jsx("label",{className:(0,i.Z)("text-sm text-slate-300",e),...t})}d.displayName="Select";var c=s(1190),u=s(2015);let m=r.createContext(null);function x({value:e,defaultValue:t,onValueChange:s,className:n,children:l}){let[i,d]=r.useState(t||""),o=void 0!==e,c=o?e:i,u=r.useCallback(e=>{o||d(e),s?.(e)},[o,s]);return a.jsx(m.Provider,{value:{value:c,setValue:u},children:a.jsx("div",{className:n,children:l})})}function p({className:e,...t}){return a.jsx("div",{role:"tablist",className:(0,i.Z)("inline-flex items-center gap-2",e),...t})}function g({value:e,className:t,children:s}){let n=r.useContext(m),l=n?.value===e,d=r.useMemo(()=>`tab-${e}`,[e]),o=r.useMemo(()=>`tabpanel-${e}`,[e]);return a.jsx("button",{type:"button",role:"tab",id:d,"aria-selected":l,"aria-controls":o,tabIndex:l?0:-1,className:(0,i.Z)("rounded px-3 py-1 text-sm",l?"bg-blue-600 text-white":"bg-slate-700 text-slate-100",t),onClick:()=>n?.setValue(e),children:s})}function h({className:e,checked:t,onChange:s,...r}){return(0,a.jsxs)("label",{className:(0,i.Z)("relative inline-flex cursor-pointer items-center",e),children:[a.jsx("input",{type:"checkbox",className:"peer sr-only",checked:!!t,onChange:s,...r}),a.jsx("div",{className:"h-5 w-9 rounded-full bg-slate-700 transition peer-checked:bg-blue-600"}),a.jsx("div",{className:"absolute left-0.5 top-0.5 h-4 w-4 rounded-full bg-white transition peer-checked:translate-x-4"})]})}function b(){let[e,t]=(0,r.useState)([]),[s,i]=(0,r.useState)(!0),[m,b]=(0,r.useState)(null),[v,j]=(0,r.useState)([]),[y,N]=(0,r.useState)(""),[w,S]=(0,r.useState)("openai"),[C,A]=(0,r.useState)(""),[k,P]=(0,r.useState)(""),[F,M]=(0,r.useState)(""),[$,D]=(0,r.useState)(""),[_,B]=(0,r.useState)(!1),[R,T]=(0,r.useState)({}),[q,I]=(0,r.useState)([]),E=(0,r.useRef)(!0),O=(0,r.useRef)({}),U=(0,r.useRef)(!1),H=(0,r.useCallback)(()=>{let e={};return y.trim()||(e.agentId="Agent ID is required"),C.trim()||(e.model="Model is required"),C.trim()&&v.length>0&&!v.includes(C.trim())&&(e.model="Model not allowed"),T(e),0===Object.keys(e).length},[y,C,v]),z=(0,r.useCallback)(e=>{let t=!1,s=0,a=0;function r(e){let t=0;for(let s=0;s<e.length;s++)t=(t+e.charCodeAt(s))%9973;return t%400}async function n(l){if(t||U.current)return;try{let t=await fetch(`/api/battles/${e}/status?format=json`,{cache:"no-store"});if(429===t.status||t.status>=500){let t=Math.min((l??1200)*2,5e3);setTimeout(()=>n(t),t+r(e));return}if(!t.ok)throw Error("status_failed");let i=await t.json();"number"==typeof i.updatedAt&&(i.updatedAt===a?s+=1:(s=0,a=i.updatedAt)),I(t=>t.map(t=>t.id!==e||t.endedReason?t:{...t,status:i.status,error:i.error}));let d=i.data,o=d?.conversationId;if(o){let t=await fetch(`/api/battles/${o}/messages?page=1&limit=100`,{cache:"no-store"});if(t.ok){let s=await t.json();I(t=>t.map(t=>t.id!==e||t.endedReason?t:{...t,conversationId:o,messages:s.items}))}}if("succeeded"===i.status||"failed"===i.status){let t=i.data?.endedReason;I(s=>s.map(s=>s.id===e?{...s,endedReason:t}:s));return}}catch(e){}let i=s>=3?3500:1200;setTimeout(()=>n(),(l??i)+r(e))}return setTimeout(()=>n(),r(e)),()=>{t=!0}},[]),W=(0,r.useCallback)(async()=>{if(H()){B(!0);try{let t=await fetch("/api/battles/start",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({agentId:y,provider:w,model:C,goal:k,systemPrompt:F,userMessage:$})}),s=await t.json();if(!t.ok||"error"in s){let t=s?.error==="invalid_agent"?"Selected agent is invalid or not found":"Failed to start",a=`err-${Date.now()}`;I(s=>[...s,{id:a,provider:w,model:C,status:"failed",error:t,goal:k,userMessage:$,messages:[],agent:e.find(e=>e.id===y)}]);return}let a=s.id,r={id:a,provider:w,model:C,goal:k,userMessage:$,status:"pending",agent:e.find(e=>e.id===y),messages:[],polling:!0};I(e=>e.some(e=>e.id===a)?e.map(e=>e.id===a?{...e,...r}:e):[...e,r]),z(a)}catch(s){let t=`err-${Date.now()}`;I(a=>[...a,{id:t,provider:w,model:C,status:"failed",error:s?.message||String(s),goal:k,userMessage:$,messages:[],agent:e.find(e=>e.id===y)}])}finally{B(!1)}}},[e,y,w,C,k,$,H,z,F]),[Z,G]=(0,r.useState)("hub"),J=function(e){let{agentId:t,provider:s,model:a,allowedModels:n}=e,[l,i]=(0,r.useState)(""),[d,o]=(0,r.useState)(""),[c,u]=(0,r.useState)(""),[m,x]=(0,r.useState)(!1),[p,g]=(0,r.useState)(!1),[h,b]=(0,r.useState)(!1),f=(0,r.useMemo)(()=>{let e=a.trim();return!!e&&(!n||0===n.length||n.includes(e))},[a,n]),v=(0,r.useMemo)(()=>!!(t.trim()&&f&&l.trim()),[t,f,l]),j=(0,r.useCallback)(async()=>{if(v&&!h){b(!0);try{g(!0),x(!1)}finally{b(!1)}}},[v,h]);return{broadcast:l,setBroadcast:i,promptA:d,setPromptA:o,promptB:c,setPromptB:u,reveal:m,setReveal:x,isRunning:p,isStarting:h,canStart:v,startArena:j}}({agentId:y,provider:w,model:C,allowedModels:v}),[L,V]=(0,r.useState)(!1),[X,Y]=(0,r.useState)(!1),[K,Q]=(0,r.useState)(null),[ee,et]=(0,r.useState)(null),[es,ea]=(0,r.useState)(null),er=(0,r.useCallback)(async()=>{if(!L&&y.trim()&&C.trim()&&(!(v.length>0)||v.includes(C.trim()))&&J.broadcast.trim()){V(!0);try{let t={"content-type":"application/json"},s={agentId:y,provider:w,model:C,userMessage:J.broadcast},a=await fetch("/api/battles/start",{method:"POST",headers:t,body:JSON.stringify({...s,systemPrompt:J.promptA||void 0})}),r=await a.json(),n=!1;if(!a.ok||r.error){let t=`arena-A-${Date.now()}`;I(s=>[...s,{id:t,provider:w,model:C,status:"failed",error:"Failed to start (A)",messages:[],agent:e.find(e=>e.id===y)}])}else{let t=r.id,s={id:t,provider:w,model:C,status:"pending",agent:e.find(e=>e.id===y),messages:[],polling:!0};I(e=>e.some(e=>e.id===t)?e.map(e=>e.id===t?{...e,...s}:e):[...e,s]),Q(t),z(t),n=!0}let l=await fetch("/api/battles/start",{method:"POST",headers:t,body:JSON.stringify({...s,systemPrompt:J.promptB||void 0})}),i=await l.json(),d=!1;if(!l.ok||i.error){let t=`arena-B-${Date.now()}`;I(s=>[...s,{id:t,provider:w,model:C,status:"failed",error:"Failed to start (B)",messages:[],agent:e.find(e=>e.id===y)}])}else{let t=i.id,s={id:t,provider:w,model:C,status:"pending",agent:e.find(e=>e.id===y),messages:[],polling:!0};I(e=>e.some(e=>e.id===t)?e.map(e=>e.id===t?{...e,...s}:e):[...e,s]),et(t),z(t),d=!0}Y(n&&d)}catch{}finally{V(!1)}}},[L,y,w,C,v,J.broadcast,J.promptA,J.promptB,e,z]),en=(0,r.useMemo)(()=>{if(!K||!ee)return null;let e=q.find(e=>e.id===K),t=q.find(e=>e.id===ee);if(!e||!t)return null;function s(e){let t=e.map(e=>e.content).join(" ");return t?Math.ceil(t.length/4):0}function a(e){let t=[];for(let s=1;s<e.length;s++){let a=Date.parse(e[s-1].createdAt),r=Date.parse(e[s].createdAt);Number.isNaN(a)||Number.isNaN(r)||!(r>=a)||t.push(r-a)}if(!t.length)return 0;t.sort((e,t)=>e-t);let s=Math.floor(t.length/2);return t.length%2?t[s]:Math.floor((t[s-1]+t[s])/2)}function r(e){let t=[];for(let s=1;s<e.length;s++){let a=Date.parse(e[s-1].createdAt),r=Date.parse(e[s].createdAt);Number.isNaN(a)||Number.isNaN(r)||!(r>=a)||t.push(r-a)}return t.length?Math.ceil(t.reduce((e,t)=>e+t,0)/t.length):0}function n(e){return e.length}let l={terminal:"succeeded"===e.status||"failed"===e.status,succeeded:"succeeded"===e.status||"goal"===e.endedReason,turns:n(e.messages),tokens:s(e.messages),latency:a(e.messages),tokensPerTurn:(()=>{let t=n(e.messages);return t>0?Math.ceil(s(e.messages)/t):0})(),latencyPerTurn:r(e.messages)},i={terminal:"succeeded"===t.status||"failed"===t.status,succeeded:"succeeded"===t.status||"goal"===t.endedReason,turns:n(t.messages),tokens:s(t.messages),latency:a(t.messages),tokensPerTurn:(()=>{let e=n(t.messages);return e>0?Math.ceil(s(t.messages)/e):0})(),latencyPerTurn:r(t.messages)},d="tie";return d=l.succeeded&&!i.succeeded?"A":!l.succeeded&&i.succeeded?"B":l.succeeded&&i.succeeded?l.turns!==i.turns?l.turns<i.turns?"A":"B":l.tokens!==i.tokens?l.tokens<i.tokens?"A":"B":l.latency!==i.latency?l.latency<i.latency?"A":"B":"tie":"tie",{a:l,b:i,winner:d}},[K,ee,q]);return(0,a.jsxs)("main",{className:"mx-auto grid max-w-5xl gap-4 p-6",style:{backgroundColor:"#ECEADF"},children:[a.jsx("h1",{className:"text-2xl font-semibold",style:{color:"#3F404C"},children:"Agent Wars Hub"}),a.jsx(x,{value:Z,onValueChange:e=>G(e),children:(0,a.jsxs)(p,{children:[a.jsx(g,{value:"hub",children:"Hub"}),a.jsx(g,{value:"arena",children:"Arena (A/B)"})]})}),"hub"===Z?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("section",{className:"grid gap-3 rounded-[12px]",style:{background:"#fff",border:"1px solid #DFD4CA",padding:"24px",boxShadow:"0 1px 3px rgba(63,64,76,0.1), 0 1px 2px rgba(63,64,76,0.06)"},children:[m?a.jsx("div",{className:"text-sm text-yellow-300",children:"Failed to load agents"}):null,(0,a.jsxs)("div",{className:"grid gap-1",children:[a.jsx(o,{className:"text-sm",style:{color:"#3F404C"},children:"Agent"}),(0,a.jsxs)(d,{value:y,onChange:e=>N(e.target.value),"data-testid":"agent-id",className:"border",style:{borderColor:"#DFD4CA"},children:[a.jsx("option",{value:"",children:"Select an agent…"}),s?a.jsx("option",{disabled:!0,children:"Loading…"}):Array.isArray(e)?e.map(e=>a.jsx("option",{value:e.id,children:e.name},e.id)):null]}),R.agentId&&a.jsx("div",{className:"text-xs text-red-400",children:R.agentId})]}),(0,a.jsxs)("div",{className:"grid gap-1",children:[a.jsx(n.U,{provider:w,model:C,onChange:e=>{S(e.provider),A(e.model)}}),a.jsx("input",{type:"hidden","data-testid":"model-input",value:C,onChange:e=>A(e.target.value)}),R.model&&a.jsx("div",{className:"text-xs text-red-400",children:R.model})]}),(0,a.jsxs)("div",{className:"grid gap-1",children:[a.jsx(o,{className:"text-sm",style:{color:"#3F404C"},children:"System prompt (optional)"}),a.jsx(u.g,{rows:3,value:F,onChange:e=>M(e.target.value),"data-testid":"system-prompt",className:"border",style:{borderColor:"#DFD4CA"}})]}),(0,a.jsxs)("div",{className:"grid gap-1",children:[a.jsx(o,{className:"text-sm",style:{color:"#3F404C"},children:"Goal (optional)"}),a.jsx(c.I,{value:k,onChange:e=>P(e.target.value),"data-testid":"goal",className:"border",style:{borderColor:"#DFD4CA"}})]}),(0,a.jsxs)("div",{className:"grid gap-1",children:[a.jsx(o,{className:"text-sm",style:{color:"#3F404C"},children:"User message (optional)"}),a.jsx(c.I,{value:$,onChange:e=>D(e.target.value),"data-testid":"user-message",className:"border",style:{borderColor:"#DFD4CA"}})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(l.z,{onClick:W,disabled:_||!y.trim()||!C.trim()||v.length>0&&!v.includes(C.trim()),"aria-busy":_,"data-testid":"start",children:_?"Starting...":"Start battle"}),(0,a.jsxs)("div",{className:"ml-auto text-xs text-slate-400",children:["~Tokens: ",f($,k)," | Est. cost:"," ",function(e,t,s,a){let r=f(e,t);return`$${(r/1e3*("openai"===s?.0015:.0012)).toFixed(4)}`}($,k,w,0)]})]}),a.jsx("div",{className:"flex items-center gap-2 text-xs text-slate-400",children:(0,a.jsxs)("label",{className:"inline-flex items-center gap-2",children:[a.jsx(h,{checked:E.current,onChange:e=>E.current=e.target.checked}),a.jsx("span",{children:"Auto-scroll"})]})})]}),a.jsx("section",{className:"grid gap-4",children:0===q.length?a.jsx("div",{className:"text-sm text-slate-400",children:"No sessions started yet."}):q.filter((e,t,s)=>s.findIndex(t=>t.id===e.id)===t).map(e=>(0,a.jsxs)("div",{className:"grid gap-2 rounded-[12px]",style:{background:"#fff",border:"1px solid #DFD4CA",padding:"24px",boxShadow:"0 1px 3px rgba(63,64,76,0.1), 0 1px 2px rgba(63,64,76,0.06)"},children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("h2",{className:"font-semibold",style:{color:"#3F404C"},children:["Session ",e.id]}),a.jsx("div",{className:"text-xs text-slate-400",children:e.agent?`${e.agent.name} \xb7 ${e.provider}/${e.model}`:`${e.provider}/${e.model}`})]}),(0,a.jsxs)("div",{className:"text-xs text-slate-400","data-testid":`status-${e.id}`,children:["Status: ",e.status,e.endedReason?` \xb7 ended: ${e.endedReason}`:"",e.error?` \xb7 ${e.error}`:""]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(l.z,{variant:"secondary",onClick:async()=>{try{if(!(await fetch(`/api/battles/${e.id}/cancel`,{method:"POST"})).ok)throw Error("cancel_failed")}catch{I(t=>t.map(t=>t.id===e.id?{...t,status:"failed",endedReason:"manual"}:t))}},disabled:"succeeded"===e.status||"failed"===e.status,"data-testid":`stop-${e.id}`,children:"Stop"}),(0,a.jsxs)("div",{className:"ml-auto text-[10px] text-slate-400",children:["messages: ",e.messages.length," / 25"]})]}),a.jsx("pre",{ref:t=>{O.current[e.id]=t},className:"min-h-[140px] whitespace-pre-wrap rounded bg-slate-950 p-3 text-xs text-slate-200",children:e.messages.map(e=>`[${e.role}] ${e.content}`).join("\n")||"messages will appear here..."})]},e.id))})]}):(0,a.jsxs)("section",{className:"grid gap-3 rounded-xl bg-slate-900/70 p-4",children:[m?a.jsx("div",{className:"text-sm text-yellow-300",children:"Failed to load agents"}):null,(0,a.jsxs)("div",{className:"grid gap-1",children:[a.jsx(o,{className:"text-sm text-slate-300",children:"Agent"}),(0,a.jsxs)(d,{value:y,onChange:e=>N(e.target.value),"data-testid":"arena-agent-id",children:[a.jsx("option",{value:"",children:"Select an agent…"}),s?a.jsx("option",{disabled:!0,children:"Loading…"}):Array.isArray(e)?e.map(e=>a.jsx("option",{value:e.id,children:e.name},e.id)):null]})]}),a.jsx("div",{className:"grid gap-1",children:a.jsx(n.U,{provider:w,model:C,onChange:e=>{S(e.provider),A(e.model)}})}),(0,a.jsxs)("div",{className:"grid gap-2",children:[a.jsx(o,{className:"text-sm text-slate-300",children:"Broadcast input"}),a.jsx(c.I,{value:J.broadcast,onChange:e=>J.setBroadcast(e.target.value),placeholder:"Type once to send to both A and B","data-testid":"arena-broadcast"})]}),(0,a.jsxs)("div",{className:"grid gap-3 md:grid-cols-2",children:[(0,a.jsxs)("div",{className:"rounded-xl bg-slate-950 p-3",children:[a.jsx("div",{className:"mb-2 text-slate-300",children:"Side A"}),a.jsx(o,{className:"text-xs text-slate-400",children:"System Prompt (A)"}),a.jsx(u.g,{rows:4,value:J.promptA,onChange:e=>J.setPromptA(e.target.value),placeholder:"Hidden identity; identical styling","data-testid":"arena-prompt-a"}),a.jsx("div",{className:"mt-2 h-24 rounded bg-slate-900 p-2 text-xs text-slate-400",children:"Messages (A) will appear here…"})]}),(0,a.jsxs)("div",{className:"rounded-xl bg-slate-950 p-3",children:[a.jsx("div",{className:"mb-2 text-slate-300",children:"Side B"}),a.jsx(o,{className:"text-xs text-slate-400",children:"System Prompt (B)"}),a.jsx(u.g,{rows:4,value:J.promptB,onChange:e=>J.setPromptB(e.target.value),placeholder:"Hidden identity; identical styling","data-testid":"arena-prompt-b"}),a.jsx("div",{className:"mt-2 h-24 rounded bg-slate-900 p-2 text-xs text-slate-400",children:"Messages (B) will appear here…"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(l.z,{className:"bg-purple-600 hover:bg-purple-500",onClick:er,disabled:L||!J.canStart,"aria-busy":L,"data-testid":"arena-start",children:L?"Starting…":"Start Arena"}),a.jsx(l.z,{variant:"secondary",className:"ml-auto",onClick:()=>J.setReveal(!J.reveal),disabled:!X,"data-testid":"arena-reveal",children:J.reveal?"Hide Participants":"Reveal Participants"})]}),(0,a.jsxs)("div",{className:"text-xs text-slate-400",children:["Outcome:"," ",en?(0,a.jsxs)(a.Fragment,{children:[a.jsx("span",{className:"inline-flex items-center gap-1 rounded px-2 py-0.5 "+("A"===en.winner?"bg-green-900/40 text-green-300":"B"===en.winner?"bg-blue-900/40 text-blue-300":"bg-slate-800 text-slate-300"),children:"tie"===en.winner?"Tie":`Winner: ${en.winner}`})," ","\xb7 A: ",en.a.turns," turns, ",en.a.tokens," tokens,"," ",en.a.latency,"ms median latency \xb7 B: ",en.b.turns," turns,"," ",en.b.tokens," tokens, ",en.b.latency,"ms median latency",es?.reasoning?(0,a.jsxs)("span",{className:"ml-2 text-slate-300",children:["\xb7 Rationale: ",es.reasoning]}):null]}):a.jsx("span",{className:"text-slate-300",children:"TBD"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(l.z,{variant:"secondary",onClick:()=>ea({winner:"tie",reasoning:"Mocked judge: insufficient signal."}),disabled:!X,"data-testid":"arena-judge",children:"Judge (mock)"}),es?(0,a.jsxs)("div",{className:"text-[11px] text-slate-400",children:["Judge: ",es.winner," \xb7 ",es.reasoning]}):null]})]})]})}function f(e,t){let s=`${t} ${e}`.trim();return s?Math.ceil(s.length/4):0}},5360:(e,t,s)=>{"use strict";s.d(t,{U:()=>n});var a=s(326),r=s(7577);function n(e){let{provider:t,model:s,onChange:n}=e,[l,i]=(0,r.useState)(null),d=l?.allowedModels?.length?l.allowedModels:[];return(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx("div",{className:"space-x-2",children:(0,a.jsxs)("label",{className:"text-slate-700",children:["Provider",(0,a.jsxs)("select",{value:t,onChange:e=>n({provider:e.target.value,model:s}),className:"ml-2 border border-slate-300 bg-white p-1 text-slate-900","data-testid":"pms-provider",children:[a.jsx("option",{value:"openai",children:"openai"}),a.jsx("option",{value:"openrouter",children:"openrouter"})]})]})}),a.jsx("div",{children:(0,a.jsxs)("label",{className:"text-slate-700",children:["Model",d.length>0?(0,a.jsxs)(a.Fragment,{children:[a.jsx("select",{value:s,onChange:e=>n({provider:t,model:e.target.value}),className:"ml-2 border border-slate-300 bg-white p-1 text-slate-900","data-testid":"pms-model",children:d.map(e=>a.jsx("option",{value:e,children:e},e))}),a.jsx("input",{type:"hidden",value:s,"data-testid":"pms-model-input",readOnly:!0})]}):a.jsx("input",{value:s,onChange:e=>n({provider:t,model:e.target.value}),className:"ml-2 border border-slate-300 bg-white p-1 text-slate-900","data-testid":"pms-model-input"})]})})]})}},3102:(e,t,s)=>{"use strict";s.d(t,{default:()=>d});var a=s(326),r=s(434),n=s(5047),l=s(7577),i=s(1664);function d(){let e=(0,n.usePathname)(),[t,s]=(0,l.useState)(!1),d=[{href:"/hub",label:"Hub"},{href:"/scale",label:"Scale"},{href:"/promptbro",label:"PromptBro"},{href:"/debug/llm",label:"LLM Debug"}],o="/"===e;return(0,a.jsxs)("header",{className:o?"sticky top-0 z-40 border-b [border-color:#DFD4CA] bg-white":"sticky top-0 z-40 border-b border-slate-800/80 bg-slate-950/80 backdrop-blur",children:[(0,a.jsxs)("div",{className:"mx-auto flex max-w-6xl items-center justify-between gap-4 px-4 py-3",style:{fontFamily:"var(--font-body)"},children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx(r.default,{href:"/",className:o?"text-lg font-semibold text-[#3F404C]":"text-lg font-semibold",style:{fontFamily:"var(--font-head)"},children:"Agent Wars"}),a.jsx("span",{className:o?"hidden text-xs text-[#3F404C] sm:inline":"hidden text-xs text-slate-300 sm:inline",children:"v0"})]}),a.jsx("div",{className:"hidden items-center gap-2 text-sm sm:flex",style:{fontFamily:"var(--font-body)"},children:d.map(t=>a.jsx(r.default,{href:t.href,className:(o?"rounded px-3 py-1 focus:outline-none focus:ring-2 focus:ring-[#FE6726] text-[#3F404C] hover:text-[#FE6726]":"rounded px-3 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500 ")+(e?.startsWith(t.href)?o?"":" bg-primary text-white":o?"":" text-slate-200 hover:bg-slate-800"),children:t.label},t.href))}),a.jsx("div",{className:"sm:hidden",children:a.jsx(i.z,{"aria-label":"Menu",variant:"secondary",onClick:()=>s(e=>!e),children:"Menu"})})]}),t?a.jsx("nav",{"aria-label":"Mobile",className:"sm:hidden",children:a.jsx("div",{className:"mx-auto grid max-w-6xl gap-1 px-4 pb-3",children:d.map(t=>a.jsx(r.default,{href:t.href,onClick:()=>s(!1),className:"rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 "+(e?.startsWith(t.href)?"bg-blue-600 text-white":"text-slate-200 hover:bg-slate-800"),children:t.label},t.href))})}):null]})}},1664:(e,t,s)=>{"use strict";s.d(t,{z:()=>l});var a=s(326),r=s(7577),n=s(1135);let l=r.forwardRef(({className:e,variant:t="default",size:s="md",asChild:r,children:l,...i},d)=>{let o=(0,n.Z)("inline-flex items-center justify-center rounded transition-colors disabled:opacity-50 disabled:pointer-events-none","sm"===s&&"px-2 py-1 text-sm","md"===s&&"px-3 py-2 text-sm","lg"===s&&"px-4 py-2 text-base","default"===t&&"bg-primary text-white hover:bg-orange-500 shadow-subtle focus:outline-none focus:ring-2 focus:ring-primary","secondary"===t&&"bg-slate-700 text-slate-100 hover:bg-slate-600 shadow-subtle focus:outline-none focus:ring-2 focus:ring-primary/50","ghost"===t&&"bg-transparent text-slate-100 hover:bg-slate-800","destructive"===t&&"bg-red-600 text-white hover:bg-red-500 focus:outline-none focus:ring-2 focus:ring-red-500/60","outline"===t&&"border border-slate-700 text-slate-100 hover:bg-slate-800 focus:outline-none focus:ring-2 focus:ring-primary/50",e);return r?a.jsx("span",{className:o,children:l}):a.jsx("button",{ref:d,className:o,...i,children:l})});l.displayName="Button"},1190:(e,t,s)=>{"use strict";s.d(t,{I:()=>l});var a=s(326),r=s(7577),n=s(1135);let l=r.forwardRef(({className:e,...t},s)=>a.jsx("input",{ref:s,className:(0,n.Z)("w-full rounded bg-slate-800 px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-primary border border-slate-700",e),...t}));l.displayName="Input"},2015:(e,t,s)=>{"use strict";s.d(t,{g:()=>l});var a=s(326),r=s(7577),n=s(1135);let l=r.forwardRef(({className:e,...t},s)=>a.jsx("textarea",{ref:s,className:(0,n.Z)("w-full rounded bg-slate-800 p-2 text-sm outline-none focus:ring-2 focus:ring-primary border border-slate-700",e),...t}));l.displayName="Textarea"},6934:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>l,__esModule:()=>n,default:()=>i});var a=s(8570);let r=(0,a.createProxy)(String.raw`/Users/baramsalem/agents-repo/agents/src/agents_wars/web/app/hub/page.tsx`),{__esModule:n,$$typeof:l}=r;r.default;let i=(0,a.createProxy)(String.raw`/Users/baramsalem/agents-repo/agents/src/agents_wars/web/app/hub/page.tsx#default`)},7218:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>g,metadata:()=>p});var a=s(9510),r=s(785),n=s.n(r),l=s(3916),i=s.n(l);s(7272);var d=s(8570);let o=(0,d.createProxy)(String.raw`/Users/baramsalem/agents-repo/agents/src/agents_wars/web/src/components/layout/Header.tsx`),{__esModule:c,$$typeof:u}=o;o.default;let m=(0,d.createProxy)(String.raw`/Users/baramsalem/agents-repo/agents/src/agents_wars/web/src/components/layout/Header.tsx#default`);function x(){return a.jsx("footer",{className:"mt-12 border-t border-slate-800/80 bg-slate-950",children:a.jsx("div",{className:"mx-auto max-w-6xl px-4 py-6 text-xs text-slate-400",children:(0,a.jsxs)("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[(0,a.jsxs)("p",{children:["\xa9 ",new Date().getFullYear()," Agent Wars. Built with Next.js. Accessibility-first."]}),(0,a.jsxs)("nav",{"aria-label":"Footer",className:"flex gap-3",children:[a.jsx("a",{className:"hover:text-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500",href:"/",children:"Home"}),a.jsx("a",{className:"hover:text-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500",href:"/hub",children:"Hub"}),a.jsx("a",{className:"hover:text-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500",href:"/scale",children:"Scale"}),a.jsx("a",{className:"hover:text-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500",href:"/promptbro",children:"PromptBro"})]})]})})})}let p={title:"Agent Wars",description:"Agent Wars web app"};function g({children:e}){return(0,a.jsxs)("html",{lang:"en",children:[a.jsx("head",{}),(0,a.jsxs)("body",{className:`${n().variable} ${i().variable} bg-slate-950 text-slate-100`,children:[a.jsx("a",{href:"#main",className:"sr-only focus:not-sr-only focus:fixed focus:left-2 focus:top-2 focus:rounded focus:bg-blue-700 focus:px-3 focus:py-2",children:"Skip to content"}),a.jsx(m,{}),a.jsx("div",{id:"main",className:"min-h-[calc(100dvh-140px)]",children:e}),a.jsx(x,{})]})]})}},7272:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[948,263],()=>s(362));module.exports=a})();